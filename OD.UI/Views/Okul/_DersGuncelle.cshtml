@model OD.Model.Dersler

<div class="row">
    <div class="col-md-12">
        @using (Ajax.BeginForm("DersGuncelleislem", "Admin", new AjaxOptions { OnSuccess = "Sonuc", HttpMethod = "POST" }, new { @class = "form-horizontal" }))
        {
            @Html.HiddenFor(m => m.DersID)
            <div class="form-group">
                <label for="#" class="col-sm-3 control-label">Ders Adı : </label>
                <div class="col-sm-9">
                    <input class="form-control" name="DersAdi" id="dersadi" type="text" value="@Model.DersAdi" required>
                </div>
            </div>
            <div class="form-group">
                <label for="#" class="col-sm-3 control-label">Sınıf Düzeyi : </label>
                <div class="col-sm-9">
                    <input class="form-control" name="SinifDuzey" id="sinifduzey" type="number" value="@Model.SinifDuzey" required>
                </div>
            </div>
            <div class="form-group mb-0">
                <div class="col-sm-offset-3 col-sm-9">
                    <button type="submit" class="btn btn-success" id="btndersguncelle">Güncelle</button>
                </div>
            </div>
        }
    </div>
</div>

<script>
    function Sonuc(res) {
        if (res.IsSuccess == true) {
            //$("#modal-fadein").modal("hide");
            //var dialog = bootbox.dialog({
            //    title: 'SİSTEM MESAJI!',
            //    message: "<p>" + res.UserMessage + "</p>",
            //    buttons: {
            //        ok: {
            //            label: "Tamam",
            //            className: 'btn-success',
            //            callback: function () {
            //                window.location.href = '/Okul/Dersler';
            //            }
            //        }
            //    }
            //});
            window.location.href = '/Okul/Dersler';
        }
        else {
            toastr.error(res.UserMessage);
        }
    }
</script>
